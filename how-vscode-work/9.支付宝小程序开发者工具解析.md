```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Mini Program Studio</title>
		<script src="../common/asarPatch.js"></script>
		<script>
			// 并发请求过多时会导致warning，实际上并没有内存泄漏
			window.ElectronIpcRenderer.setMaxListeners(30);
			process.env.VOL_LOUNGER_SCOPE = "codeWindow-" + global.currentWindowId;
			process.env.VOL_NLS_CONFIG = electronEnv.metadata.languageId;
			window.launchTimeout = setTimeout(() => {
				throw new Error("launch time out");
			}, 30 * 1000);
			const sendLaunchError = (err) => {
				try {
					var error = err;
					if (!error) {
						error = new Error("未知错误");
					}
					if (err.reason) {
						error = err.reason;
					}
					const errorMessage = error.message.replace(/,/g, "%2C");
					const errorStack = (error.stack || "")
						.replace(/\n/g, " ")
						.replace(/,/g, "%2C");
					const errorCode = "LAUNCH_ERROR";
					const data = encodeURIComponent(
						"DW-COOKIE,95ce62cf-3bd3-481c-a999-5881a2774b28_1575364991084,4c:32:75:95:88:03,clicked,a529.b5872.kaitian-catch.error,a529.b5872,/Users/wangyuanqin/Documents/workspace/kaitian/volans-kaitian,,^mBizScenario=^mPageState=^role_id=4c:32:75:95:88:03^fullURL=^errorType=" +
							(error.name || "unknown Error") +
							"^errorMsg=" +
							errorMessage +
							"^errorCode=" +
							errorCode +
							"^errorStack=" +
							errorStack +
							",," +
							(process ? process.platform : "unknownPlatform") +
							",a529.b5874_f2c6086f-0ebb-471d-961e-4ddf149c056a_1575364991084," +
							(navigator.userAgent || "unknown UA").replace(/,/g, "%2C") +
							",PC,-/-|chrome/-|na/,,,H5behavior,,,,,,"
					);
					const url =
						"https://mdap.alipay.com/loggw/dwcookieLogGet.do?data=" +
						data +
						"&time=" +
						Date.now();
					fetch(url).catch((e) => {
						console.error("收集启动错误失败。请寻求开发者帮助");
					});
				} catch (e) {
					console.error("收集启动错误失败。请寻求开发者帮助");
				}
			};
			global.launchErrorGuard = function (error) {
				if (error?.message === "ResizeObserver loop limit exceeded") {
					// 排除已知良性报错
					return;
				}
				console.error(
					"IDE 项目启动失败, 请前往 https://cschannel.alipay.com/newPortal.htm?scene=myapp 寻求技术支持（备注:IDE启动失败）。 Workbench Launch Failed, Please Contact Developer via https://cschannel.alipay.com/newPortal.htm?scene=myapp."
				);
				console.error(error.error || error.reason || error);
				// require('electron').remote.getCurrentWindow().webContents.openDevTools();
				sendLaunchError(error.error || error.reason);
			};
			window.addEventListener("error", global.launchErrorGuard);
			window.addEventListener("unhandledrejection", global.launchErrorGuard);
			require("electron").ipcRenderer.on(
				"updateMetadata",
				(event, metaDataJSON) => {
					const prevThemeId = global.metadata
						? global.metadata.themeId
						: undefined;
					const prevIconId = global.metadata
						? global.metadata.iconId
						: undefined;
					const prevProjectDetail = global.metadata
						? global.metadata.projectDetail
						: undefined;
					const prevSimulatorPosition = global.metadata
						? global.metadata.simulatorPosition
						: undefined;
					const metaData = JSON.parse(metaDataJSON);
					global.metadata = Object.assign(global.metadata, metaData);
					electronEnv.metadata = Object.assign(
						{},
						electronEnv.metadata,
						metaData
					);
					process.env = Object.assign(
						{},
						process.env,
						electronEnv.env,
						metaData.env
					);

					electronEnv.env = Object.assign({}, process.env);

					global.electronEnv = electronEnv;
					Object.assign(global, electronEnv);

					// 主题有更新
					if (
						prevThemeId !== global.metadata.themeId ||
						prevSimulatorPosition !== global.metadata.simulatorPosition
					) {
						const event = new CustomEvent("themeChange");
						window.dispatchEvent(event);
						updateTheme(global.metadata.themeId);
					}
					// 图标有更新
					if (prevIconId !== global.metadata.iconId) {
						const event = new CustomEvent("iconChange");
						window.dispatchEvent(event);
					}
					if (prevProjectDetail !== global.metadata.projectDetail) {
						const event = new CustomEvent("projectChanged");
						window.dispatchEvent(event);
					}
				}
			);
			require("electron").ipcRenderer.on(
				"loadWorkspace",
				(event, workspace, workspaceUri, liteMode) => {
					electronEnv.env.WORKSPACE_DIR = workspace;
					process.env.WORKSPACE_DIR = workspace;
					electronEnv.metadata.workspace = workspace; // TODO: 开天 electron 版本这个被强制转成 FileUri 了。。
					electronEnv.metadata.workspaceUri = workspaceUri;
					electronEnv.metadata.liteMode = liteMode;
					document.body.classList.add(global.metadata.theme);
				}
			);

			function updateTheme(themeId) {
				if (themeId.toLowerCase().indexOf("light") !== -1) {
					document.getElementById("volans-antd-light").disabled = false;
					document.getElementById("volans-antd-dark").disabled = true;
					document.body.classList.remove("volans-dark");
					document.body.classList.add("volans-light");
				} else {
					document.getElementById("volans-antd-light").disabled = true;
					document.getElementById("volans-antd-dark").disabled = false;
					document.body.classList.remove("volans-light");
					document.body.classList.add("volans-dark");
				}
				if (electronEnv.metadata.simulatorPosition === "left") {
					document.getElementById("main").classList.add("left-simulator");
					const launchDom = document.getElementById("launching");
					if (launchDom) {
						launchDom.classList.add("left-simulator-launching");
					}
				} else {
					document.getElementById("main").classList.remove("left-simulator");
					const launchDom = document.getElementById("launching");
					if (launchDom) {
						launchDom.classList.remove("left-simulator-launching");
					}
				}
			}
		</script>
		<style>
			@font-face {
				font-family: "volansIcon";
				src: url("./icon/icon.woff") format("woff");
			}
			html {
				height: 100%;
				overflow: hidden;
			}

			#main {
				height: 100%;
				width: 100%;
			}
			body {
				margin: 0;
				--input-border-radius: 5px;
				/* -webkit-font-smoothing: antialiased; */
				font-weight: normal;
			}

			#loading {
				position: relative;
				width: 100vw;
				height: 100vh;
				line-height: 100vh;
				color: #fff;
				text-align: center;
				z-index: 1;
				transition: opacity 500ms;
				font-size: 32px;
				background-color: #2a2a2a;
			}

			.loading-hidden {
				opacity: 0;
			}

			.launching {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 100;
			}
			#startup-login {
				width: 100%;
				height: 100%;
				justify-content: center;
				align-items: center;
				display: none;
			}
			.startup-skeleton {
				width: 100%;
				height: 100%;
			}
			.startup-skeleton .skeleton-title {
				width: 100%;
				height: 24px;
				color: white;
				user-select: none;
				text-align: center;
				background: var(--background-m3);
				-webkit-app-region: drag;
				line-height: 24px;
			}
			.startup-skeleton .skeleton-title::after {
				content: "";
				display: block;
				position: relative;
				left: var(--layout-left-width);
				right: 0;
				height: 100%;
				background: var(--background-m2);
			}
			.startup-skeleton .skeleton-body {
				display: flex;
				background: var(--background-m2);
				height: calc(100% - 24px);
			}
			.startup-skeleton .skeleton-project {
				width: var(--layout-left-width);
				flex: 0 0 auto;
				display: flex;
				flex-direction: column;
				overflow-y: auto;
				padding: 16px 0 32px;
				background: var(--background-m3);
			}
			.code-skeleton {
				height: 100%;
				width: 100%;
				flex-direction: column;
				display: none;
			}
			.skeleton-top {
				background: var(--skeleton-top-background);
				height: 76px;
			}
			.skeleton-workbench {
				flex: 1;
				background: var(--skeleton-editor-background);
				display: flex;
			}
			.left-simulator-launching .skeleton-workbench {
				flex-direction: row-reverse;
			}
			.skeleton-menu {
				width: 55px;
				background: var(--skeleton-tabbar-background);
			}
			.left-simulator-launching .skeleton-workbench .skeleton-menu {
				display: none;
			}
			.skeleton-main {
				flex: 1;
				display: flex;
				justify-content: space-between;
			}
			.skeleton-simulator {
				background: var(--skeleton-simulator-background);
				width: 395px;
			}
			.left-simulator-launching .skeleton-workbench .skeleton-simulator {
				background: var(--skeleton-editor-background);
			}
			.skeleton-bottom {
				height: 24px;
				background: var(--skeleton-statusBar-background);
			}
			.skeleton-finder {
				width: 340px;
				background: var(--skeleton-statusBar-background);
			}
			.skeleton-editor {
				flex: 1;
				display: flex;
				align-items: center;
				justify-content: center;
				background: var(--skeleton-editor-background);
			}
			.lightFont {
				font-weight: 300;
			}

			:root {
				--kt-tooltip-borderRadius: 3px;
				/* --tabBar-height: 22px !important; */
			}
			.header___browser-header-header {
				height: 22px !important;
				background-color: var(--titleBar-activeBackground) !important;
			}

			.volans-light {
				--kt-menubar-background: var(--titleBar-activeBackground);
				--kt-defaultButton-hoverBackground: var(--menu-selectionBackground) important!;
				--kt-defaultButton-background: var(--menu-background) important!;
				--kt-select-background: var(--menubar-selectionBackground) important!;
				--kt-selectDropdown-background: var(--breadcrumb-background);
				--kt-selectDropdown-foreground: var(--breadcrumb-foreground);
				--kt-selectDropdown-hoverBackground: var(--breadcrumbPicker-background);
				--tool-icon-bg: var(--menubar-selectionBackground);
				--kt-toolbar-shadow-color: rgba(0, 0, 0, 0.2);
				--kt-input-border: rgba(0, 0, 0, 0.1);
				--inputOption-activeBackground: var(--input-background);
				--kt-primaryButton-background: var(--activityBarBadge-background);
				--kt-primaryButton-foreground: var(--activityBarBadge-foreground);

				--kt-tree-activeSelectionBackground: var(--list-focusBackground);
				--kt-tree-activeSelectionForeground: var(
					--list-activeSelectionForeground
				);
				--kt-tree-focusBackground: var(--list-focusBackground);
				--kt-tree-hoverBackground: var(--list-hoverBackground);

				--background-m1: #ffffff; /* primary bg */
				--background-m2: #f8f8f8; /* filetree, sim, statusbar, tabs-bg, startup-bg */
				--background-m3: #eaebed; /* sidebar, top-toolbar */
				--background-m4: #ffffff; /* input-bg */
				--background-m5: #f1f2f3; /* modal message popover select tooltip avatar */
				--background-m6: #e5e7ea; /* btn-default */
				--background-m7: #dadcdf; /* btn-default-hover scrollbar */
				--background-m8: #e5e7ea; /* btn-default-active dropdown/select-active input-addon modal-header */
				--background-m10: #f3f3f6;
				--background-m11: #cdd0d6; /* top-toolbar feature active */
				--primary-b1: #3296fa;
				--primary-b2: #3fa9ff;
				--primary-b2-text: 63, 169, 255;
				--primary-b3: #0a6dd9;
				--split-b1: #d8d9dd;
				--split-b2: rgba(0, 0, 0, 0.15);
				--split-b3: rgba(0, 0, 0, 0.06);
				--icon-m1: rgba(0, 0, 0, 0.45);
				--highlight-color1: #000;
				--disabled-color: rgba(0, 0, 0, 0.25);
				--text-color: rgba(0, 0, 0, 0.8);
				--text-color-secondary: rgba(0, 0, 0, 0.65);
				--head-color: rgba(0, 0, 0, 0.9);
				--mask-b1: rgba(255, 255, 255, 0.95);
				--base-font-size: 13px;
				--success-color: #52c41a;
				--info-color: #1890ff;
				--warn-color: #faad14;
				--error-color: #f5222d;
				--head-icon-color: #9da0a3;

				--skeleton-tabbar-background: #eaebed;
				--skeleton-top-background: #eaebed;
				--skeleton-left-background: #f8f8f8;
				--skeleton-statusBar-background: #f8f8f8;
				--skeleton-editor-background: #ffffff;
				--skeleton-simulator-background: #f8f8f8;
				/* --kt-selectDropdown-teamForeground:var(--text-color-secondary); */
			}

			.volans-dark {
				margin: 0;
				color: hsla(0, 0%, 100%, 0.65);
				font-size: 13px;
				font-family: -apple-system, BlinkMacSystemFont, Segoe UI, PingFang SC,
					Hiragino Sans GB, Microsoft YaHei, Helvetica Neue, Helvetica, Arial, sans-serif;
				font-variant: tabular-nums;
				line-height: 1.5;
				-webkit-font-feature-settings: "tnum";
				font-feature-settings: "tnum";

				--kt-select-background: var(--menubar-selectionBackground) important!;
				--tool-icon-bg: var(--menubar-selectionBackground);
				--kt-toolbar-shadow-color: rgba(0, 0, 0, 0.2);
				--kt-menubar-background: var(--titleBar-activeBackground);
				--kt-selectDropdown-background: var(--breadcrumb-background);
				--kt-selectDropdown-foreground: var(--breadcrumb-foreground);
				--kt-selectDropdown-hoverBackground: var(--breadcrumbPicker-background);
				--kt-primaryButton-background: var(--activityBarBadge-background);
				--kt-primaryButton-foreground: var(--activityBarBadge-foreground);

				--kt-tree-activeSelectionBackground: var(--list-focusBackground);
				--kt-tree-activeSelectionForeground: var(
					--list-activeSelectionForeground
				);
				--kt-tree-focusBackground: var(--list-focusBackground);
				--kt-tree-hoverBackground: var(--list-hoverBackground);

				--background-m1: #17171f; /* primary bg */
				--background-m2: #23232e; /* filetree, sim, statusbar, tabs-bg, startup-bg */
				--background-m3: #30303d; /* sidebar, top-toolbar */
				--background-m4: #3b3b4d; /* input-bg */
				--background-m5: #2d2d3b; /* modal message popover select tooltip avatar */
				--background-m6: #454557; /* btn-default */
				--background-m7: #3b3b47; /* btn-default-hover scrollbar */
				--background-m8: #272733; /* btn-default-active dropdown/select-active input-addon modal-header */
				--background-m9: #484854; /* special-disable */
				--background-m10: #444457;
				--background-m11: #7b7b8f;
				--primary-b1: #1890ff;
				--primary-b2: #3fa9ff;
				--primary-b2-text: 63, 169, 255;
				--primary-b3: rgb(75, 99, 126);
				--split-b1: #22222d;
				--split-b2: rgba(255, 255, 255, 0.15);
				--split-b3: rgba(255, 255, 255, 0.09);
				--icon-m1: rgba(255, 255, 255, 0.45);
				--highlight-color1: #fff;
				--disabled-color: rgba(255, 255, 255, 0.25);
				--text-color: rgba(255, 255, 255, 0.65);
				--text-color-secondary: rgba(255, 255, 255, 0.45);
				--head-color: rgba(255, 255, 255, 0.8);
				--mask-b1: rgba(0, 0, 0, 0.9);
				--base-font-size: 13px;
				--success-color: #52c41a;
				--info-color: #1890ff;
				--warn-color: #faad14;
				--error-color: #f5222d;
				--head-icon-color: #9da0a3;
				--layout-left-width: 250px;
				--title-bar-height: 24px;

				--skeleton-tabbar-background: #30303d;
				--skeleton-top-background: #30303d;
				--skeleton-left-background: #23232e;
				--skeleton-statusBar-background: #23232e;
				--skeleton-editor-background: #282a36;
				--skeleton-simulator-background: #23232e;
				/* --kt-selectDropdown-teamForeground:var(--text-color-secondary); */
			}

			.code-lite-skeleton {
				display: none;
				height: 100%;
				background: var(--background-m2);
				flex-direction: column;
			}
			.lite-skeleton-top {
				background: var(--background-m3);
				height: 56px;
				flex-grow: 0;
			}
			.lite-skeleton-body {
				flex-grow: 1;
				align-items: center;
				display: flex;
				justify-content: center;
			}
			.lite-skeleton-bottom {
				height: 22px;
				background: var(--background-m2);
				flex-grow: 0;
				flex-shrink: 0;
			}

			body h1,
			body h2,
			body h3,
			body h4,
			body h5,
			body h6 {
				color: var(--foreground);
			}
		</style>

		<link href="index.865529ca.css" rel="stylesheet" />
	</head>
	<body>
		<div id="main" class="volans"></div>
		<div class="launching" id="launching">
			<div class="code-skeleton" id="code-loading">
				<div class="skeleton-top" id="skeleton-title"></div>
				<div class="skeleton-workbench">
					<div class="skeleton-main">
						<div class="skeleton-menu"></div>
						<div class="skeleton-finder"></div>
						<div class="skeleton-editor installing-extension-container">
							<div>
								<div class="ant-spin ant-spin-lg ant-spin-spinning">
									<span class="ant-spin-dot ant-spin-dot-spin">
										<i class="ant-spin-dot-item"></i>
										<i class="ant-spin-dot-item"></i>
										<i class="ant-spin-dot-item"></i>
										<i class="ant-spin-dot-item"></i>
									</span>
								</div>
							</div>
						</div>
					</div>
					<div class="skeleton-simulator"></div>
				</div>
				<div class="skeleton-bottom"></div>
			</div>
			<div class="code-lite-skeleton" id="code-lite-loading">
				<div class="lite-skeleton-top"></div>
				<div class="lite-skeleton-body installing-extension-container">
					<div>
						<div class="ant-spin ant-spin-lg ant-spin-spinning">
							<span class="ant-spin-dot ant-spin-dot-spin">
								<i class="ant-spin-dot-item"></i>
								<i class="ant-spin-dot-item"></i>
								<i class="ant-spin-dot-item"></i>
								<i class="ant-spin-dot-item"></i>
							</span>
						</div>
					</div>
				</div>
				<div class="lite-skeleton-bottom"></div>
			</div>
			<div class="startup-skeleton" id="startup-loading">
				<div class="skeleton-title"></div>
				<div class="skeleton-body">
					<div class="skeleton-project"></div>
				</div>
			</div>
			<div class="startup-login-skeleton" id="startup-login">
				<div>
					<div class="ant-spin ant-spin-lg ant-spin-spinning">
						<span class="ant-spin-dot ant-spin-dot-spin">
							<i class="ant-spin-dot-item"></i>
							<i class="ant-spin-dot-item"></i>
							<i class="ant-spin-dot-item"></i>
							<i class="ant-spin-dot-item"></i>
						</span>
					</div>
				</div>
			</div>
		</div>
		<script>
			if (electronEnv.metadata.requireLoginScope) {
				document.getElementById("startup-loading").style.display = "none";
				document.getElementById("startup-login").style.display = "flex";
			} else {
				if (electronEnv.metadata.workspace) {
					if (electronEnv.metadata.liteMode) {
						document.getElementById("code-lite-loading").style.display = "flex";
					} else {
						document.getElementById("code-loading").style.display = "flex";
					}
					document.getElementById("startup-loading").style.display = "none";
				}
			}
		</script>
		<script src="./loader.js"></script>
		<script src="./react/react.production.min.js"></script>
		<script src="./react-dom/react-dom.production.min.js"></script>
		<script src="./moment/moment.js"></script>
		<script src="./antd/antd.min.js"></script>
		<script>
			// 处理default require
			Object.keys(antd).forEach((key) => {
				antd[key].default = antd[key];
			});
		</script>
		<script>
			window._to = {
				spmAPos: "a529",
				spmBPos: "b5872",
				autoLogPv: false, // 将自动埋点的事件类型触发事件改成touchstart
			};
		</script>
		<link
			href="./antd/antd.dark.css"
			rel="stylesheet"
			id="volans-antd-dark"
			disabled
		/>
		<link
			href="./antd/antd.light.css"
			rel="stylesheet"
			id="volans-antd-light"
			disabled
		/>
		<script>
			updateTheme(global.metadata.themeId);
		</script>
		<link href="./antd/antd.volans.css" rel="stylesheet" />
		<link href="./antd/anticon.css" rel="stylesheet" />
		<link href="./icon/icon.css" rel="stylesheet" />
		<script type="text/javascript" src="index.bundle.js"></script>
	</body>
</html>
```
