#### 一、如何将插件市场连接到我们的服务器

1、首先, vscode 开发环境下默认是无法搜索插件的

2、需要找到源码的 product.json, 添加以下内容

```json
"extensionsGallery": {
	//扩展市场的 API 服务地址，用于获取扩展列表、搜索扩展等
	"serviceUrl": "https://marketplace.visualstudio.com/_apis/public/gallery",
	//扩展市场的缓存地址，用于加速扩展列表的加载
	"cacheUrl": "https://vscode.blob.core.windows.net/gallery/index",
	//扩展详情页面的基础 URL，用于访问具体扩展的详情
	"itemUrl": "https://marketplace.visualstudio.com/items"
}
```

3、这样看来, 只需要在打包的时候记得将这个文件改成我们想要的地址就行了

4、是否可以增加配置项, 像 trae

5、服务的格式
需要实现以下接口
```ts
interface IExtensionGalleryService {
  // 查询扩展
  query(options: IQueryOptions, token: CancellationToken): Promise<IPager<IGalleryExtension>>;

  // 获取扩展详情
  getExtensions(extensionInfos: ReadonlyArray<IExtensionInfo>, token: CancellationToken): Promise<IGalleryExtension[]>;

  // 下载扩展
  download(extension: IGalleryExtension, location: URI, operation: InstallOperation): Promise<void>;

  // 获取扩展的 README
  getReadme(extension: IGalleryExtension, token: CancellationToken): Promise<string>;

  // 获取扩展的 manifest
  getManifest(extension: IGalleryExtension, token: CancellationToken): Promise<IExtensionManifest | null>;

  // 获取扩展的更新日志
  getChangelog(extension: IGalleryExtension, token: CancellationToken): Promise<string>;
}
```

支持 HTTPS
支持扩展签名验证
支持发布者验证
支持私有扩展

问题不大



